﻿COMMAND TYPE
    Development commands

NAME
    add-item (alias: create) - Add new class to current project. Available 3 
    types of items: model, service, entity listener

DESCRIPTION
    Add package item to project based on template. You can add data model for 
    work with class-oriented entities through ATF.Repository package (Detailed 
    https://github.com/Advance-Technologies-Foundation/repository).
    
    Model generation includes support for:
    - All entity columns with appropriate C# types
    - Lookup properties (both ID and navigation properties)
    - Detail collections (1-to-many relationships)
    - Validation DataAnnotations based on schema metadata
    - BaseModelExtensions with ValidateModel() helper method
    - XML documentation from Creatio schema descriptions
    
    Supported by default: web service and entity-listener templates for Creatio.
    You can add your own template in tpl folder in clio directory for 
    frequently used code constructions.
    
    REQUIRES: cliogate must be installed on Creatio environment for model 
    generation.

OPTIONS
    Item type (pos. 0)      Specify type of item: model, service, entity-listener

    Item name (pos. 1)      Specify class name (optional for model when -a is true)

    --DestinationPath   -d  Path to destination directory (default: current)
    
    --Namespace         -n  Namespace for generated class (required for models)
    
    --Fields            -f  Comma-separated list of fields for single model
    
    --All               -a  Generate all entity models (default: true for models)
    
    --Culture           -x  Culture code for schema descriptions (default: en-US)

    --Environment       -e  Environment name (recommended for authentication)


EXAMPLES
    Generate single model with specific fields:
        clio add-item model Contact -f Name,Email -n MyCompany.Models -e prod

    Generate all entity models:
        clio add-item model -n MyCompany.Models -d C:\Models -e prod
        
    Generate models with detail relationships in current directory:
        clio add-item model -n MyCompany.Models -e prod
        
    Generate models with Russian descriptions:
        clio add-item model -n MyCompany.Models -e prod -x ru-RU

    Add web service template:
        clio add-item service ContactService -n MyCompany.Services

    Add entity-listener template:
        clio add-item entity-listener Contact -n MyCompany.EventHandlers

DETAIL COLLECTIONS
    When generating models, the command automatically analyzes all entity 
    relationships and creates collection properties for 1-to-many relationships.
    
    Example: If Activity has a lookup to Contact, the Contact model will include:
        [DetailProperty(nameof(global::Models.Activity.ContactId))]
        public virtual List<Activity> CollectionOfActivityByContact { get; set; }

MODEL VALIDATION
    Generated models include DataAnnotations for common constraints:
    - [Required] for required columns
    - [MinLength]/[MaxLength] for text columns where applicable
    - [Phone], [Url], [EmailAddress] for phone/url/email fields
    
    The command also creates BaseModelExtensions.cs with:
        public static List<ValidationResult> ValidateModel(this BaseModel model)
    
    Use this extension to validate generated model instances before save/update.

REPORTING BUGS
    https://github.com/Advance-Technologies-Foundation/clio
