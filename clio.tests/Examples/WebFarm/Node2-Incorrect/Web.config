<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="redis" type="Terrasoft.Redis.Abstractions.RedisConfigSection, Terrasoft.Redis.Abstractions" />
    <section name="operationLogger" type="Terrasoft.Core.OperationLog.OperationLoggerConfigurationSection, Terrasoft.Core" />
    <sectionGroup name="terrasoft" type="Terrasoft.Core.AppConfigurationSectionGroup, Terrasoft.Core">
      <section name="sysSettings" type="Terrasoft.Core.SysSettingsConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <section name="features" type="Terrasoft.Core.FeaturesConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <section name="auth" type="Terrasoft.Web.Common.AuthConfigurationSection, Terrasoft.Web.Common" />
      <sectionGroup name="resources" type="Terrasoft.Common.ResourceConfigurationSectionGroup, Terrasoft.Common">
        <section name="cultures" type="Terrasoft.Common.ResourceCulturesSection, Terrasoft.Common" requirePermission="false" />
        <section name="generalSettings" type="Terrasoft.Common.ResourceGeneralSettingsSection, Terrasoft.Common" requirePermission="false" />
      </sectionGroup>
      <section name="managers" type="Terrasoft.Core.ManagerProviderConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <section name="schemaManagers" type="Terrasoft.Core.SchemaManagerProviderConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <section name="storeDataAdapters" type="Terrasoft.Core.Store.StoreAdaptersConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <section name="storeCacheAdapters" type="Terrasoft.Core.Store.StoreAdaptersConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <section name="clientStoreCacheAdapters" type="Terrasoft.Core.Store.ClientStoreAdaptersConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <sectionGroup name="db" type="Terrasoft.Core.DB.DBConfigurationSectionGroup, Terrasoft.Core">
        <section name="general" type="Terrasoft.Core.DB.DBConfigurationSection, Terrasoft.Core" requirePermission="false" />
      </sectionGroup>
      <section name="managerProvider" type="Terrasoft.Core.ManagerProviderConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <section name="webControls" type="Terrasoft.UI.WebControls.GlobalConfig, Terrasoft.UI.WebControls" requirePermission="false" />
      <section name="webControlsCompatible" type="Terrasoft.UI.Common.AspNetFramework.GlobalConfig, Terrasoft.UI.Common.AspNetFramework" requirePermission="false" />
      <section name="pageSchemaControlTypes" type="Terrasoft.UI.WebControls.PageSchemaControlTypeConfigurationSection, Terrasoft.UI.WebControls" requirePermission="false" />
      <section name="fileDesignMode" type="Terrasoft.Core.FileDesignModeSection, Terrasoft.Core" requirePermission="false" />
      <section name="wsService" type="Terrasoft.Messaging.Common.WSConfigurationSection, Terrasoft.Messaging.Common" requirePermission="false" />
      <section name="clientLogger" type="Terrasoft.Nui.ClientLogConfigSection, Terrasoft.Nui" requirePermission="false" />
      <section name="influxReporter" type="Terrasoft.Monitoring.InfluxReportConfigSection, Terrasoft.Monitoring" requirePermission="false" />
      <section name="globalSearch" type="Terrasoft.GlobalSearch.GlobalSearchConfigSection" requirePermission="false" />
      <section name="serviceBus" type="Terrasoft.Core.ServiceBusConfigurationSection, Terrasoft.Core" requirePermission="false" />
      <section name="eventBuffering" type="Terrasoft.Core.EventBuffering.EventBufferingConfigurationSection, Terrasoft.Core" requirePermission="false" />
    </sectionGroup>
    <section name="quartzConfig" type="Terrasoft.Core.Scheduler.QuartzConfigurationSection, Terrasoft.Core.Scheduler" />
    <section name="quartz" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0,Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    <sectionGroup name="common">
      <section name="logging" type="Terrasoft.Common.LoggingConfigurationSectionHandler, Terrasoft.Common" />
    </sectionGroup>
    <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog" />
    <section name="vaultConfig" type="Terrasoft.Security.Secrets.Vault.VaultConfigSection, Terrasoft.Security.Secrets" />
    <section name="xssFilterConfig" type="Terrasoft.Security.AspNet.XssFilterConfigSection, Terrasoft.Security.AspNet" requirePermission="false" />
  </configSections>
  <redis connectionStringName="redis" enablePerformanceMonitor="false" executionTimeLoggingThresholdSec="5" featureUseCustomRedisTimeouts="false" clientRetryTimeoutMs="4000" clientReceiveTimeoutMs="3000" clientSendTimeoutMs="3000" clientConnectTimeoutMs="30000" clientSyncTimeoutMs="30000" clientAsyncTimeoutMs="30000" deactivatedClientsExpirySec="0" operationRetryIntervalMs="5000" operationRetryCount="4" clientsManager="Terrasoft.Redis.StackExchangeAdapters.RedisClientsManagerAdapter, Terrasoft.Redis.StackExchangeAdapters" abortOnConnectFail="true" timeToCheckConfigurationSeconds="15" />
  <operationLogger useAdminUserLog="false" useAdminUnitAdminLog="false" useAdminUserRoleLog="false" useAdminEntitySchemaLog="false" useAdminEntitySchemaOperationLog="false" useAdminEntitySchemaExternalServiceLog="false" useAdminEntitySchemaRecordDefRightLog="false" useAdminEntitySchemaColumnLog="false" useAdminOperationLog="false" useAdminSettingsLog="false" useAdminOperationAuditLog="false" useAdminClientIPLog="false" useUserAuthorizationLog="false" useUserSessionLog="false" useDeniedOperationLog="false" />
  <system.web>
    <globalization culture="en-US" uiCulture="en-US" />
  </system.web>
  <location path="0/Nui/terrasoft.axd">
    <system.web>
      <authorization>
        <allow users="SysPortalConnection" />
      </authorization>
    </system.web>
  </location>
  <location path="UserManagement.aspx">
    <system.web>
      <authorization>
        <allow users="SysPortalConnection" />
      </authorization>
    </system.web>
  </location>
  <location path="Feedback.aspx">
    <system.web>
      <authorization>
        <allow users="SysPortalConnection" />
      </authorization>
    </system.web>
  </location>
  <location path="DataService">
    <system.web>
      <authorization>
        <deny users="SysPortalConnection" />
      </authorization>
    </system.web>
  </location>
  <location path="0/Nui">
    <system.web>
      <authorization>
        <deny users="SysPortalConnection" />
      </authorization>
    </system.web>
  </location>
  <location path="favicon.ico">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/AutoLogin.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/HealthCheck/Ping">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/PasswordRecovery/SendRecoveryLink">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/PasswordRecovery/Complete">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/PasswordRecovery/Begin">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/PasswordRecovery/GetRecoveryModuleSettings">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/Totp/GenerateSecret">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/Totp/Authenticator/Connect">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/app">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/NuiLogin.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/ClientScript/GenerateLoginScripts">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="0/api/ClientScript/GenerateLoginScripts">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/ExternalAccessLogin.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/OpenIdLogin.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/SspLogin.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/Login.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="static">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/LoginPageData.ashx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/DevLogin.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/TotpSetup.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Login/TotpRecoverPassword.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="ServiceModel/AuthService.svc">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="ServiceModel/CertificateAuthService.svc">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="ServiceModel/TotpSetupService.svc">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="ServiceModel/TotpResetPasswordService.svc">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="ServiceModel/TotpSendResetPasswordLinkService.svc">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="ServiceModel/CspViolationService.svc">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="terrasoft.axd">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="ErrorPage.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Resources/images/favicon.ico">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="core">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="core-sl">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="BPMonlineCRM.png">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Lic/LicManager.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Lic/LicLoader.aspx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Mobile/Services/MobileCodeService.ashx">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/Probes/RuntimeReady">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="api/Probes/DesignReady">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <xssFilterConfig rejectXssRequest="true" enableRuntimeToggling="false" optionsFile="XssDetectorOptions.json" />
  <terrasoft>
    <auth providerNames="InternalUserPassword,SSPUserPassword,SsoAuthProvider,SSPSsoAuthProvider" autoLoginProviderNames="" defLanguage="en-US" defWorkspaceName="Default" useIPRestriction="false" loginTimeout="30000">
      <providers>
        <provider name="Certificate" type="Terrasoft.WebApp.Loader.Authentication.ClientCertificate.ClientCertificateProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="UserNameMask" value="(?&lt;UserName&gt;.*)@" />
          </parameters>
        </provider>
        <provider name="SSPUserPassword" type="Terrasoft.WebApp.Loader.Authentication.SSPUserPassword.SSPUserPasswordProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="mainPageName" value="MainPage" />
            <add name="userPrefix" value="Portal/" />
          </parameters>
        </provider>
        <provider name="SSPNtlmUser" type="Terrasoft.WebApp.Loader.Authentication.SSPUserPassword.SSPNtlmProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="mainPageName" value="MainPage" />
            <add name="userPrefix" value="Portal/" />
          </parameters>
        </provider>
        <provider name="NtlmUser" type="Terrasoft.Authentication.Core.Ntlm.UserNtlmProvider, Terrasoft.Authentication" />
        <provider name="InternalUserPassword" type="Terrasoft.WebApp.Loader.Authentication.InternalUserPassword.InternalUserPasswordProvider, Terrasoft.WebApp.Loader" />
        <provider name="InternalUserPasswordWithTotpProvider" type="Terrasoft.WebApp.Loader.Authentication.TOTP.InternalUserPasswordWithTotpProvider, Terrasoft.WebApp.Loader" />
        <provider name="SsoAuthProvider" type="Terrasoft.WebApp.Loader.Authentication.SSO.SsoAuthProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="UserType" value="General" />
            <add name="UseJit" value="false" />
          </parameters>
        </provider>
        <provider name="SSPSsoAuthProvider" type="Terrasoft.WebApp.Loader.Authentication.SSO.SsoAuthProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="UserType" value="SSP" />
          </parameters>
        </provider>
        <provider name="SSPLdapProvider" type="Terrasoft.WebApp.Loader.Authentication.SSPUserPassword.SSPLdapProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="mainPageName" value="MainPage" />
            <add name="userPrefix" value="Portal/" />
            <add name="ServerPath" value="192.168.5.25" />
            <add name="AuthType" value="Ntlm" />
            <add name="DistinguishedName" value="dc=tscrm,dc=com" />
            <add name="UseLoginUserLDAPEntryDN" value="false" />
            <!--<add name="SearchPattern" value="(&amp;(objectCategory=person)(objectClass=user)(!(userAccountControl:1.2.840.113556.1.4.803:=2))(memberOf=CN=SVNUsers,OU=groups,OU=Terrasoft,DC=tscrm,DC=com))" />-->
            <add name="SearchPattern" value="(&amp;(sAMAccountName={0})(objectClass=person))" />
            <add name="KeyDistributionCenter" value="" />
          </parameters>
        </provider>
        <provider name="Ldap" type="Terrasoft.WebApp.Loader.Authentication.Ldap.LdapProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="ServerPath" value="192.168.5.25" />
            <add name="AuthType" value="Ntlm" />
            <add name="DistinguishedName" value="dc=tscrm,dc=com" />
            <add name="UseLoginUserLDAPEntryDN" value="false" />
            <!--<add name="SearchPattern" value="(&amp;(objectCategory=person)(objectClass=user)(!(userAccountControl:1.2.840.113556.1.4.803:=2))(memberOf=CN=SVNUsers,OU=groups,OU=Terrasoft,DC=tscrm,DC=com))" />-->
            <add name="SearchPattern" value="(&amp;(sAMAccountName={0})(objectClass=person))" />
            <add name="KeyDistributionCenter" value="" />
          </parameters>
        </provider>
        <provider name="AutoLogin" type="Terrasoft.WebApp.Loader.Authentication.AutoLogin.AutoLoginProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="UserNameMask" value="User {0}" />
            <add name="MaxUserCount" value="500" />
            <add name="ExternalSiteLoginPageUrl" value="http://www.bpmonline.com/autologin?locale=en" />
          </parameters>
        </provider>
        <provider name="Yandex" type="Terrasoft.WebApp.Loader.Authentication.OpenId.OpenIdProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="openIdProviderUrl" value="http://openid.yandex.ru" />
          </parameters>
        </provider>
        <provider name="Google" type="Terrasoft.WebApp.Loader.Authentication.OpenId.OpenIdProvider, Terrasoft.WebApp.Loader">
          <parameters>
            <add name="openIdProviderUrl" value="https://www.google.com/accounts/o8/id" />
          </parameters>
        </provider>
      </providers>
    </auth>
    <resources>
      <generalSettings resourceDirectory="\Terrasoft.WebApp\bin\Resources\" uiResourceDirectory="\Terrasoft.WebApp\Resources\ui\" primaryCulture="en" />
    </resources>
    <managers>
      <manager scope="app" name="DataValueTypeManager" type="Terrasoft.Core.DataValueTypeManager, Terrasoft.Core" />
      <manager scope="app" name="SystemValueManager" type="Terrasoft.Core.SystemValueManager, Terrasoft.Core" />
      <manager scope="app" name="LicManager" type="Terrasoft.Core.LicManager, Terrasoft.Core" />
    </managers>
    <schemaManagers>
      <manager name="EntitySchemaManager" type="Terrasoft.Core.Entities.EntitySchemaManager, Terrasoft.Core" />
      <manager name="ProcessUserTaskSchemaManager" type="Terrasoft.Core.Process.ProcessUserTaskSchemaManager, Terrasoft.Core" />
      <manager name="ProcessSchemaManager" type="Terrasoft.Core.Process.ProcessSchemaManager, Terrasoft.Core" />
      <manager name="DcmSchemaManager" type="Terrasoft.Core.DcmProcess.DcmSchemaManager, Terrasoft.Core" />
      <manager name="CampaignSchemaManager" type="Terrasoft.Core.Campaign.CampaignSchemaManager, Terrasoft.Core" />
      <manager name="ImageListSchemaManager" type="Terrasoft.Core.ImageListSchemaManager, Terrasoft.Core" />
      <manager name="ReportSchemaManager" type="Terrasoft.Reports.ReportSchemaManager, Terrasoft.Reports" />
      <manager name="SourceCodeSchemaManager" type="Terrasoft.Core.SourceCodeSchemaManager, Terrasoft.Core" />
      <manager name="ValueListSchemaManager" type="Terrasoft.Core.ValueListSchemaManager, Terrasoft.Core" />
      <manager name="ClientUnitSchemaManager" type="Terrasoft.Core.ClientUnitSchemaManager, Terrasoft.Core" />
      <manager name="ServiceSchemaManager" type="Terrasoft.Services.ServiceSchemaManager, Terrasoft.Services" />
      <manager name="AddonSchemaManager" type="Terrasoft.Core.Addons.AddonSchemaManager, Terrasoft.Core" />
    </schemaManagers>
    <storeDataAdapters>
      <storeAdapter levelName="Request" type="Terrasoft.Store.WebAdapters.RequestDataStore, Terrasoft.Store.WebAdapters" />
      <storeAdapter levelName="Session" type="Terrasoft.Redis.SessionDataRedisStore, Terrasoft.Redis">
        <parameters>
          <add name="connectionStringName" value="redis" />
        </parameters>
      </storeAdapter>
      <storeAdapter levelName="Application" type="Terrasoft.Redis.ApplicationDataRedisStore, Terrasoft.Redis">
        <parameters>
          <add name="connectionStringName" value="redis" />
        </parameters>
      </storeAdapter>
    </storeDataAdapters>
    <storeCacheAdapters>
      <storeAdapter levelName="Session" type="Terrasoft.Redis.SessionCacheRedisStore, Terrasoft.Redis">
        <parameters>
          <add name="connectionStringName" value="redis" />
        </parameters>
        <proxies>
          <proxy name="Key" type="Terrasoft.Store.WebAdapters.Proxies.SessionKeyProxy, Terrasoft.Store.WebAdapters" />
        </proxies>
      </storeAdapter>
      <storeAdapter levelName="Workspace" type="Terrasoft.Redis.GeneralCacheRedisStore, Terrasoft.Redis">
        <parameters>
          <add name="connectionStringName" value="redis" />
          <add name="hashId" value="Workspace" />
        </parameters>
        <proxies>
          <proxy name="Key" type="Terrasoft.Store.WebAdapters.Proxies.WorkspaceKeyProxy, Terrasoft.Store.WebAdapters" />
        </proxies>
      </storeAdapter>
      <storeAdapter levelName="Application" type="Terrasoft.Redis.GeneralCacheRedisStore, Terrasoft.Redis">
        <parameters>
          <add name="connectionStringName" value="redis" />
          <add name="hashId" value="Application" />
        </parameters>
        <proxies>
          <proxy name="ConstPrefix" type="Terrasoft.Core.Store.PrefixKeyTransformerProxy, Terrasoft.Core">
            <parameters>
              <add name="prefix" value="ApplicationCache:" />
            </parameters>
          </proxy>
        </proxies>
      </storeAdapter>
    </storeCacheAdapters>
    <clientStoreCacheAdapters>
      <clientStoreAdapter levelName="ClientPageSession" clientType="Terrasoft.MemoryStore" />
      <clientStoreAdapter levelName="Domain" clientType="Terrasoft.LocalStore" />
    </clientStoreCacheAdapters>
    <webControls />
    <fileDesignMode enabled="false" />
    <!-- OperatingMode determines a message bus operating mode. Possible values are: InMemory and Auto. -->
    <serviceBus incomingQueueName="creatio_main" defaultSendAddress="exchange:creatio_exchange" operatingMode="InMemory" messageProcessingThreadsCount="10" rabbitMqTransport.useQuorumQueues="true" />
    <eventBuffering defCleanupThresholdRatio="0.3">
      <eventBuffer typeName="Terrasoft.Core.Process.EventBuffering.IProcessEventWriter, Terrasoft.Core" flushCount="15" flushTimeoutMilliseconds="2000" />
    </eventBuffering>
    <!--<webControls resourceLocationType="File" resourceRoot="D:\Projects\TSBpm\TSBpm\Src\Lib\" resourceRootUrl="http:\\localhost\BpmResources\"/>-->
    <sysSettings configSource="SysSettings.config" />
    <features configSource="Features.config" />
    <db>
      <general securityEngineType="Terrasoft.DB.PostgreSql.PostgreSqlSecurityEngine, Terrasoft.DB.PostgreSql" executorType="Terrasoft.DB.PostgreSql.PostgreSqlExecutor, Terrasoft.DB.PostgreSql" isCaseInsensitive="true" maxAnsiJoinCount="0" engineType="Terrasoft.DB.PostgreSql.PostgreSqlEngine, Terrasoft.DB.PostgreSql" metaEngineType="Terrasoft.DB.PostgreSql.PostgreSqlMetaEngine, Terrasoft.DB.PostgreSql" metaScriptType="Terrasoft.DB.PostgreSql.PostgreSqlMetaScript, Terrasoft.DB.PostgreSql" typeConverterType="Terrasoft.DB.PostgreSql.PostgreSqlTypeConverter, Terrasoft.DB.PostgreSql" connectionStringName="db" binaryPackageSize="1048576" currentSchemaName="public" enableSqlLog="false" sqlLogQueryTimeElapsedThreshold="5000" sqlLogRowsThreshold="100" useOrderNullsPosition="false" maxEntitySchemaNameLength="63" />
    </db>
  </terrasoft>
  <connectionStrings configSource="ConnectionStrings.config" />
  <!-- Uncomment this for correct Oracle work
  <system.data>
    <DbProviderFactories>
      <add name="Oracle.ManagedDataAccess, Managed Driver" invariant="Oracle.ManagedDataAccess.Client" description="Oracle Data Provider for .NET, Managed Driver" type="Oracle.ManagedDataAccess.Client.OracleClientFactory, Oracle.ManagedDataAccess" />
    </DbProviderFactories>
  </system.data>-->
  <!-- Uncomment this for correct Postgre work
  <system.data>
    <DbProviderFactories>
      <add name="Npgsql Data Provider" invariant="Npgsql" description=".Net Data Provider for PostgreSQL" type="Npgsql.NpgsqlFactory, Npgsql, Culture=neutral, PublicKeyToken=5d8b90d52f46fda7" />
    </DbProviderFactories>
  </system.data>-->
  <appSettings>
    <add key="aspnet:RequestQueueLimitPerSession" value="2147483647" />
    <add key="DefaultWorkspaceMode" value="None" />
    <add key="SpellChecker" value="Terrasoft.YandexSpellChecker" />
    <!--<add key="MaxViewStateFieldLength" value="4096" />-->
    <add key="UsePathThroughAuthentication" value="false" />
    <add key="UseLoginPagePathThroughAuthentication" value="true" />
    <add key="UseDataValueTypeConverterInSysSettingsEngine" value="true" />
    <add key="Feature-UseReturnUrlForNtlmLogin" value="true" />
    <add key="Feature-UseReturnUrlForCommonLogin" value="true" />
    <add key="UseCookiesPriority" value="true" />
    <add key="SynchronizeUserSessions" value="true" />
    <add key="SynchronizeUserSessionsTimeout" value="0" />
    <add key="RequestTimeout" value="120" />
    <add key="MobileCacheTimeout" value="31536000" />
    <add key="MsgUserPasswordDESCryptoServiceKey" value="SegFOF6gUpo=" />
    <add key="UsePingServiceToWakeupDomain" value="true" />
    <add key="SendAppWakeUpRequestToLocalhost" value="false" />
    <!--<add key="SspUserRegistrationLicPackage" value ="LicPackageName" />-->
    <add key="SAMLConfigFile" value="saml.config" />
    <add key="PartnerIdP" value="https://adfs.test/adfs/services/trust" />
    <add key="SAMLNameFieldName" value="" />
    <add key="SAMLRoleFieldName" value="role" />
    <add key="DefUserType" value="" />
    <add key="UseApplicationScheduler" value="true" />
    <add key="UseCsrfToken" value="true" />
    <add key="DisableCsrfTokenValidationForPaths" value="/AuthService.svc/SsoLogin,AuthService.svc/Login,finesse,CspViolationService.svc/SaveCspViolationData,/api/PasswordRecovery/SendRecoveryLink,/api/PasswordRecovery/Complete,/AuthService.svc/GetAuthenticationSettings,/AuthService.svc/GetAccessibleAuthFlows,/AuthService.svc/StartTextCodeAuthFlow,/api/Totp/GenerateSecret,/api/Totp/Authenticator/Connect,/ServiceModel/LandingService.svc" />
    <add key="NonProlongingSessionEndpoints" value="/0/Nui/ViewModule.aspx.ashx" />
    <add key="RedisLockEntryExpireTimeMin" value="15" />
    <add key="ConfigurationProjectPath" value="" />
    <add key="StandalonePackageProjectFileDirectoryPath" value="Files/" />
    <add key="UseStaticFileContent" value="true" />
    <add key="Feature-StartSchedulerInWebApp" value="true" />
    <add key="ConfigurationRuntimeDirectory" value="" />
    <add key="UseNewCachingForSSPUser" value="false" />
    <add key="ForceIndexRebuild" value="true" />
    <add key="UseMasterRecordRights" value="true" />
    <add key="UseSecureSettingsOnClient" value="false" />
    <add key="Feature-UseRuntimeEntitySchemaMetadata" value="true" />
    <add key="Feature-UseRetryRedisOperation" value="true" />
    <add key="SessionLockTtlSec" value="60" />
    <add key="SessionLockTtlProlongationIntervalSec" value="20" />
    <add key="UseMarkerValue" value="true" />
    <add key="LogSessionForSessionLessRequest" value="true" />
    <add key="ShowPortalSelfRegistrationLink" value="true" />
    <add key="Feature-ClearSessionDataInBackgroundUserConnection" value="true" />
    <add key="UsePersonalSessionTimeout" value="true" />
    <add key="Feature-UseSysSettingsEngine" value="true" />
    <add key="Feature-UseConversionToUtcForTimeInOData" value="false" />
    <add key="MaxConfigurationAssemblyBackupCount" value="5" />
    <add key="Feature-ValidateConfigurationOnChange" value="false" />
    <add key="Feature-SortPackageDependenciesByUId" value="true" />
    <add key="UseTypedSspLicense" value="true" />
    <add key="UseSspColumnsCountRestriction" value="false" />
    <add key="DontUseSysSSPEntitySchemaAccessList" value="true" />
    <add key="Feature-AllowOnlyOneSessionPerUser" value="false" />
    <add key="Feature-IsSchemaRenamingEnabled" value="true" />
    <add key="Feature-OAuthTokenLogin" value="true" />
    <add key="Feature-ExternalAccessRestrictions" value="true" />
    <add key="IsolationModePermittedSchemaNames" value="ExternalAccess,ChangeLogEntity,DuplicatesRule,EmailTemplate,Employee,Lookup,MLModel,OAuthApplications,Queue,ScoringModel,SiteEventType,SysAdminOperation,SysAdminUnit,SysLookup,SysModuleFolder,SysSchema,SysTranslation,VwAdministrativeObjects,VwCampaignLog,VwProcessLib,VwSysAdminUnit,VwSysDcmLib,VwSysProcessLog,VwWebServiceV2,SysSettings,SysUserInRole,SysAdminUnitInWorkplace,SysModuleInWorkplace" />
    <add key="LicPackagesPriority" value="studio creatio unlimited plan cloud;studio creatio unlimited plan on-site;studio creatio enterprise plan cloud;studio creatio enterprise plan on-site;studio creatio growth plan cloud;studio creatio external b2b portal cloud;studio creatio external b2b portal on-site;studio creatio external b2c portal cloud;studio creatio external b2c portal on-site;studio creatio limited internal cloud;studio creatio limited internal on-site;studio creatio self-service portal cloud;studio creatio self-service portal on-site;studio creatio mobile only cloud;studio creatio mobile only on-site" />
    <add key="Feature-EnableIntToBoolImplicitCastPostgreSql" value="false" />
    <add key="Feature-ReadPackageUIdFromMetadata" value="false" />
    <add key="UpdateDbStructureOnceForEachSchemaName" value="true" />
    <add key="Feature-ExcludeCurrentSchemaOnParentLoading" value="true" />
    <add key="Feature-UseSchemaUniqueNameRandomGenerator" value="true" />
    <add key="InitializationSecurityVector" value="mHybCHNqfMYA883P" />
    <add key="CurrentSecurityKey" value="GSYAHAGCBDUUADIADKOPAAAW" />
    <add key="Feature-UseDelayedSchedulerStart" value="true" />
    <add key="Feature-DisableAspxErrorPage" value="true" />
    <add key="Feature-SkipNotLocalizableColumnsInLocalizationEntity" value="true" />
    <add key="UpdateSessionExpirationPerRequest" value="false" />
    <add key="Feature-SpecifyParentSchemasInChunks" value="true" />
    <add key="UseSourceCodeSchemaGenerator" value="true" />
    <add key="UseEntitySchemaGenerator" value="false" />
    <add key="UseDomainToRedirect" value="false" />
    <add key="AllowStandaloneAssembly" value="true" />
    <add key="CompileStandalonePackageEntitySchema" value="false" />
    <add key="UseAsyncStaticContentGeneration" value="true" />
    <add key="UseAsyncPackageInstallation" value="false" />
    <add key="UseAsyncSchemaCaptionsInstallation" value="false" />
    <add key="UseBulkSaveSchemaResourcesInstallation" value="true" />
    <add key="UseParallelSchemaDataInstallation" value="false" />
    <add key="LoadPackageStorageOnInstall" value="false" />
    <add key="RefreshManagersOnInstall" value="true" />
    <add key="UseChangedStaticContentGeneration" value="true" />
    <add key="UseSchemaInfoDictionaryComparer" value="false" />
    <add key="UseClientUnitSchemaManagerRefreshIfItemsExist" value="true" />
    <add key="UseRegisterStartTimerEventsLock" value="true" />
    <add key="UseSyncDBMetaActionExecuting" value="true" />
    <add key="Feature-SaveSysSchemaContentInTransaction" value="false" />
    <add key="Feature-SuppressSysSchemaContentSaveErrors" value="false" />
    <add key="Feature-UseEntityOperationsAdministration" value="true" />
    <add key="EnableOpenIDAuth" value="false" />
    <add key="UseAuthCookieId" value="true" />
    <add key="Feature-UseWebSocketKeepAlive" value="true" />
    <add key="PartialRefreshManagersOnInstall" value="true" />
    <add key="UseSecretsInInflux" value="false" />
    <add key="UseHttpHeaderProvider" value="true" />
    <add key="Feature-UseAppDescriptor" value="true" />
    <add key="RedisUseTls" value="false" />
    <add key="RedisCertPath" value="" />
    <add key="RedisCertPass" value="" />
    <add key="DisableRedisTlsCertificateValidation" value="false" />
    <add key="UseCspActualizer" value="true" />
    <add key="CookiesSameSiteMode" value="Lax" />
    <add key="EnableRedisHashInStore" value="false" />
    <add key="RecreateConnectionMultiplexer" value="true" />
    <add key="UseRemoteLockForGettingSessionId" value="false" />
    <add key="UseTrottledRegisterSessionStartFeature" value="false" />
    <add key="PreventMassSessionStartOfOneUser" value="true" />
    <add key="Feature-AddPlatformInfoToLicenseRequest" value="true" />
    <add key="EnableViewModelConfigDiffSelfTest" value="true" />
    <add key="EnableSchemaServiceRemoveViewModelAttribute" value="false" />
    <add key="EnableViewModelConfigDiff" value="true" />
    <add key="EnableModelConfigDiffSelfTest" value="true" />
    <add key="EnableModelConfigDiff" value="true" />
    <add key="EnableNewSysSettingsReader" value="true" />
    <add key="UseSchemaOutletReuseViewStrategy" value="true" />
    <add key="UseJsonTypeNameHandlingParameter" value="false" />
    <add key="BinarySysSettingsAnonymousGetAllowList" value="CrtAppToolbarLogo,FaviconImage,HeaderLogoImage,ImageCaseNotFound,ImageRaitingAlredyExist,ImageRaitingNotFound,ImageThanksForRaiting,IncomingCallRingtone,KnowledgeBaseImage,LogoImage,MenuLogoImage,MobileLogoImage,OmniChatNotificationSound,SSPLogoImage,GlbImageApprovalWasSet,GlbImageApprovalStatusChanged" />
    <add key="Feature-UseCampaignAudienceValidationStep" value="false" />
    <add key="UseReadWriteLockInHttpHeaderRepository" value="true" />
  </appSettings>
  <location path="." inheritInChildApplications="false">
    <system.web>
      <customErrors mode="RemoteOnly" />
      <httpRuntime maxRequestLength="73400" targetFramework="4.7" enableVersionHeader="false" executionTimeout="28800" />
      <webServices>
        <protocols>
          <add name="HttpGet" />
          <add name="HttpPost" />
        </protocols>
      </webServices>
      <compilation debug="false" targetFramework="4.7">
        <assemblies>
          <add assembly="System.Runtime, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
        </assemblies>
      </compilation>
      <httpCookies httpOnlyCookies="true" />
      <authentication mode="Forms">
        <forms loginUrl="~/Login/NuiLogin.aspx" protection="All" timeout="720" name=".ASPXAUTH" path="/" requireSSL="false" slidingExpiration="true" defaultUrl="ViewPage.aspx?Id=4e342d5e-bd89-4b79-98e2-22e433122403" cookieless="UseDeviceProfile" enableCrossAppRedirects="true" />
      </authentication>
      <authorization>
        <deny users="?" />
        <allow users="*" />
      </authorization>
      <pages validateRequest="false" controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID">
        <controls>
          <add tagPrefix="TS" namespace="Terrasoft.UI.WebControls.Controls" assembly="Terrasoft.UI.WebControls" />
        </controls>
      </pages>
      <!--<httpRuntime requestValidationMode="2.0" enableVersionHeader="false" />-->
      <httpHandlers>
        <add verb="*" path="*/terrasoft.axd" type="Terrasoft.UI.WebControls.Controls.ResourceHandlerFactory" validate="false" />
      </httpHandlers>
      <healthMonitoring heartbeatInterval="0" enabled="true">
        <eventMappings>
          <add name="ApplicationWebErrorEvent" type="Terrasoft.Web.Common.ApplicationWebErrorEvent, Terrasoft.Web.Common" />
        </eventMappings>
        <providers>
          <add name="FileWebEventProvider" type="Terrasoft.WebApp.Loader.FileWebEventProvider, Terrasoft.WebApp.Loader, Culture=neutral" />
        </providers>
        <profiles>
          <add name="ErrorLoging" minInstances="1" maxLimit="Infinite" minInterval="00:00:00" />
        </profiles>
        <rules>
          <add name="BPMonline Error" eventName="ApplicationWebErrorEvent" provider="FileWebEventProvider" profile="ErrorLoging" />
        </rules>
      </healthMonitoring>
      <!--<browserCaps>
            <case>RequiresControlStateInSession=true</case>
        </browserCaps>-->
      <machineKey validationKey="73AAA409AD6004B70A2BA3D9B3EDB384CFA6CD7B455F62323677201F4AC9AD5441C7AFCF9D5D90609116C944611485332667743CBA5579FE09851BFCF41886D0" decryptionKey="D751F1F18523DC0659F39E14E2F67CF0562A7E4B4A016C8A60890A82B7D587EC" validation="SHA1" />
      <sessionState mode="InProc" timeout="30" cookieName="BPMLOADER" />
    </system.web>
  </location>
  <location path="core/hash/Terrasoft/amd/two-factor/assets/i18n">
    <system.webServer>
      <handlers>
        <add name="SchemaCoreResourceHandler-json-auth-resources" path="*.json" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
      </handlers>
    </system.webServer>
  </location>
  <location path="core">
    <system.webServer>
      <handlers>
        <add name="SchemaCoreResourceHandler-js" path="*.js" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-map" path="*.map" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-profile" path="*.profile" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-css" path="*.css" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-less" path="*.less" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-eot" path="*.eot" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-ttf" path="*.ttf" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-svg" path="*.svg" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-woff" path="*.woff" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-woff2" path="*.woff2" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-png" path="*.png" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
        <add name="SchemaCoreResourceHandler-otf" path="*.otf" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
      </handlers>
    </system.webServer>
  </location>
  <location path="core-sl">
    <system.webServer>
      <handlers>
        <add name="SchemaCoreStringListResourceHandler" path="*" verb="GET" type="Terrasoft.Web.Common.SchemaResourcesRouter, Terrasoft.Web.Common" preCondition="managedHandler" />
      </handlers>
    </system.webServer>
  </location>
  <system.webServer>
    <httpErrors errorMode="DetailedLocalOnly" />
    <validation validateIntegratedModeConfiguration="false" />
    <modules>
      <add name="NLog" type="NLog.Web.NLogHttpModule, NLog.Web" />
      <remove name="WindowsAuthentication" />
      <add name="NTLMAuthentication" type="Terrasoft.Web.Common.NtlmAuthModule" />
      <add name="XssFilterModule" type="Terrasoft.WebApp.Loader.Modules.XssFilterModule, Terrasoft.WebApp.Loader" />
      <add name="CustomHeadersModule" type="Terrasoft.WebApp.Loader.Modules.CustomHeadersModule, Terrasoft.WebApp.Loader" />
      <add name="HostHeaderFilterModule" type="Terrasoft.WebApp.Loader.Modules.HostHeaderFilterModule, Terrasoft.WebApp.Loader" />
    </modules>
    <handlers>
      <remove name="ResourceHandlerFactory" />
      <add name="ResourceHandlerFactory" verb="*" path="*terrasoft.axd" type="Terrasoft.UI.WebControls.Controls.ResourceHandlerFactory" preCondition="integratedMode" resourceType="Unspecified" requireAccess="Script" />
      <add name="PutDeleteUrlHandler" path="rest/*" verb="DELETE,PUT" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" responseBufferLimit="0" />
    </handlers>
    <defaultDocument>
      <files>
        <add value="Login/NuiLogin.aspx" />
      </files>
    </defaultDocument>
    <staticContent>
      <remove fileExtension=".woff" />
      <mimeMap fileExtension=".woff" mimeType="application/font-woff" />
      <remove fileExtension=".woff2" />
      <mimeMap fileExtension=".woff2" mimeType="font/woff2" />
      <remove fileExtension=".otf" />
      <mimeMap fileExtension=".otf" mimeType="font/opentype" />
      <mimeMap fileExtension="." mimeType="text/plain" />
    </staticContent>
    <httpProtocol>
      <customHeaders>
        <add name="X-Frame-Options" value="SAMEORIGIN" />
        <add name="X-Content-Type-Options" value="nosniff" />
        <remove name="X-Powered-By" />
        <!--
        X-Content-Type-Options:
        https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options
        Cache-Control:
        https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control
        -->
        <!--<add name="Cache-Control" value="no-cache, no-store, must-revalidate" />
        <add name="Pragma" value="no-cache" />-->
      </customHeaders>
    </httpProtocol>
    <security>
      <requestFiltering removeServerHeader="true">
        <denyQueryStringSequences>
          <add sequence="%2e%2e%2f" />
          <add sequence="%2e%2e/" />
          <add sequence="..%2f" />
          <add sequence="%2e%2e%5c" />
          <add sequence="2e%2e\" />
          <add sequence="..%5c" />
          <add sequence="%252e%252e%255c" />
          <add sequence="..%255c" />
          <add sequence="../" />
          <add sequence="..\" />
        </denyQueryStringSequences>
      </requestFiltering>
    </security>
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.Common" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.Core" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.Core.Scheduler" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.Reports" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.Messaging.Common" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.Messaging.Common.Standard" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.Sync" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.UI.Common.AspNetFramework" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.UI.WebControls.Compatibility.Interfaces" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.UI.WebControls" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.UI.OldConfiguration" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Web.Administration" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-7.0.0.65535" newVersion="7.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Common.Logging" publicKeyToken="af08829b84f0328e" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.4.1.0" newVersion="3.4.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Common.Logging.Core" publicKeyToken="af08829b84f0328e" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-3.4.1.0" newVersion="3.4.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Terrasoft.Web.Common" publicKeyToken="edaadfbc3b0bb879" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.2.1.65535" newVersion="8.2.1.5375" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Quartz" publicKeyToken="f6b8c98a402cc8a4" culture="neutral" />
        <bindingRedirect oldVersion="2.3.2.0-2.6.0.0" newVersion="2.6.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Threading.Tasks.Extensions" culture="neutral" publicKeyToken="cc7b13ffcd2ddd51" />
        <bindingRedirect oldVersion="0.0.0.0-4.2.0.1" newVersion="4.2.0.1" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Threading.Channels" culture="neutral" publicKeyToken="cc7b13ffcd2ddd51" />
        <bindingRedirect oldVersion="0.0.0.0-5.0.0.0" newVersion="5.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Buffers" culture="neutral" publicKeyToken="cc7b13ffcd2ddd51" />
        <bindingRedirect oldVersion="4.0.2.0" newVersion="4.0.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Memory" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.1.1" newVersion="4.0.1.2" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-13.0.1.0" newVersion="13.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Extensions.DependencyInjection.Abstractions" publicKeyToken="adb9793829ddae60" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Extensions.Logging" publicKeyToken="adb9793829ddae60" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Bcl.AsyncInterfaces" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Extensions.Primitives" publicKeyToken="adb9793829ddae60" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Extensions.Logging.Abstractions" publicKeyToken="adb9793829ddae60" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Runtime.CompilerServices.Unsafe" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.0.6.0" newVersion="6.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Extensions.Options" publicKeyToken="adb9793829ddae60" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.DirectoryServices.Protocols" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-6.0.0.1" newVersion="4.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Diagnostics.DiagnosticSource" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Text.Encodings.Web" publicKeyToken="cc7b13ffcd2ddd51" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.0.0.0" newVersion="5.0.0.1" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Numerics.Vectors" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.1.4.0" newVersion="4.1.4.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Castle.Core" publicKeyToken="407dd0808d44fbdc" culture="neutral" />
        <bindingRedirect oldVersion="4.0.0.0-5.0.0.0" newVersion="5.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Collections.Immutable" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Text.Encoding.CodePages" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-7.0.0.0" newVersion="7.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="AngleSharp" publicKeyToken="e83494dcdc6d31ea" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-0.17.1.0" newVersion="0.17.1.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <quartz>
    <add key="quartz.dbprovider.Npgsql.productName" value="Npgsql" />
    <add key="quartz.dbprovider.Npgsql.assemblyName" value="Npgsql" />
    <add key="quartz.dbprovider.Npgsql.connectionType" value="Npgsql.NpgsqlConnection, Npgsql" />
    <add key="quartz.dbprovider.Npgsql.commandType" value="Npgsql.NpgsqlCommand, Npgsql" />
    <add key="quartz.dbprovider.Npgsql.parameterType" value="Npgsql.NpgsqlParameter, Npgsql" />
    <add key="quartz.dbprovider.Npgsql.parameterDbType" value="NpgsqlTypes.NpgsqlDbType, Npgsql" />
    <add key="quartz.dbprovider.Npgsql.parameterDbTypePropertyName" value="NpgsqlDbType" />
    <add key="quartz.dbprovider.Npgsql.parameterNamePrefix" value=":" />
    <add key="quartz.dbprovider.Npgsql.exceptionType" value="Npgsql.NpgsqlException, Npgsql" />
    <add key="quartz.dbprovider.Npgsql.useParameterNamePrefixInParameterCollection" value="true" />
    <add key="quartz.dbprovider.Npgsql.bindByName" value="true" />
    <add key="quartz.dbprovider.OracleManagedProvider.productName" value="Oracle, Managed data access" />
    <add key="quartz.dbprovider.OracleManagedProvider.assemblyName" value="Oracle.ManagedDataAccess" />
    <add key="quartz.dbprovider.OracleManagedProvider.connectionType" value="Oracle.ManagedDataAccess.Client.OracleConnection, Oracle.ManagedDataAccess" />
    <add key="quartz.dbprovider.OracleManagedProvider.commandType" value="Oracle.ManagedDataAccess.Client.OracleCommand, Oracle.ManagedDataAccess" />
    <add key="quartz.dbprovider.OracleManagedProvider.parameterType" value="Oracle.ManagedDataAccess.Client.OracleParameter, Oracle.ManagedDataAccess" />
    <add key="quartz.dbprovider.OracleManagedProvider.parameterDbType" value="Oracle.ManagedDataAccess.Client.OracleDbType, Oracle.ManagedDataAccess" />
    <add key="quartz.dbprovider.OracleManagedProvider.parameterDbTypePropertyName" value="OracleDbType" />
    <add key="quartz.dbprovider.OracleManagedProvider.parameterNamePrefix" value=":" />
    <add key="quartz.dbprovider.OracleManagedProvider.exceptionType" value="Oracle.ManagedDataAccess.Client.OracleException, Oracle.ManagedDataAccess" />
    <add key="quartz.dbprovider.OracleManagedProvider.useParameterNamePrefixInParameterCollection" value="false" />
    <add key="quartz.dbprovider.OracleManagedProvider.bindByName" value="true" />
    <add key="quartz.dbprovider.OracleManagedProvider.dbBinaryTypeName" value="Blob" />
  </quartz>
  <quartzConfig defaultScheduler="BPMonlineQuartzScheduler">
    <quartz isActive="true">
      <add key="quartz.scheduler.instanceId" value="AUTO" />
      <add key="quartz.scheduler.instanceName" value="BPMonlineQuartzScheduler" />
      <add key="quartz.threadPool.threadCount" value="5" />
      <add key="quartz.jobStore.misfireThreshold" value="300000" />
      <add key="quartz.jobStore.clustered" value="false" />
      <add key="quartz.jobStore.type" value="Quartz.Impl.AdoJobStore.JobStoreTX, Quartz" />
      <add key="quartz.jobStore.dataSource" value="SchedulerDb" />
      <add key="quartz.jobStore.driverDelegateType" value="Quartz.Impl.AdoJobStore.PostgreSQLDelegate, Quartz" />
      <add key="quartz.dataSource.SchedulerDb.provider" value="Npgsql" />
      <add key="quartz.dataSource.SchedulerDb.connectionStringName" value="db" />
      <add key="quartz.jobStore.acquireTriggersWithinLock" value="false" />
      <add key="quartz.serializer.type" value="binary" />
    </quartz>
    <quartz isActive="true">
      <add key="quartz.scheduler.instanceId" value="AUTO" />
      <add key="quartz.scheduler.instanceName" value="CampaignQuartzScheduler" />
      <add key="quartz.threadPool.threadCount" value="2" />
      <add key="quartz.jobStore.misfireThreshold" value="300000" />
      <add key="quartz.jobStore.clustered" value="false" />
      <add key="quartz.jobStore.type" value="Quartz.Impl.AdoJobStore.JobStoreTX, Quartz" />
      <add key="quartz.jobStore.dataSource" value="SchedulerDb" />
      <add key="quartz.jobStore.driverDelegateType" value="Quartz.Impl.AdoJobStore.PostgreSQLDelegate, Quartz" />
      <add key="quartz.dataSource.SchedulerDb.provider" value="Npgsql" />
      <add key="quartz.dataSource.SchedulerDb.connectionStringName" value="db" />
      <add key="quartz.jobStore.acquireTriggersWithinLock" value="false" />
      <add key="quartz.serializer.type" value="binary" />
    </quartz>
    <quartz isActive="true">
      <add key="quartz.scheduler.instanceId" value="AUTO" />
      <add key="quartz.scheduler.instanceName" value="BulkEmailQuartzScheduler" />
      <add key="quartz.threadPool.threadCount" value="2" />
      <add key="quartz.jobStore.misfireThreshold" value="300000" />
      <add key="quartz.jobStore.clustered" value="false" />
      <add key="quartz.jobStore.type" value="Quartz.Impl.AdoJobStore.JobStoreTX, Quartz" />
      <add key="quartz.jobStore.dataSource" value="SchedulerDb" />
      <add key="quartz.jobStore.driverDelegateType" value="Quartz.Impl.AdoJobStore.PostgreSQLDelegate, Quartz" />
      <add key="quartz.dataSource.SchedulerDb.provider" value="Npgsql" />
      <add key="quartz.dataSource.SchedulerDb.connectionStringName" value="db" />
      <add key="quartz.jobStore.acquireTriggersWithinLock" value="false" />
      <add key="quartz.serializer.type" value="binary" />
    </quartz>
    <quartz isActive="true">
      <add key="quartz.scheduler.instanceId" value="AUTO" />
      <add key="quartz.scheduler.instanceName" value="TouchPointsQuartzScheduler" />
      <add key="quartz.threadPool.threadCount" value="1" />
      <add key="quartz.jobStore.misfireThreshold" value="300000" />
      <add key="quartz.jobStore.clustered" value="false" />
      <add key="quartz.jobStore.type" value="Quartz.Impl.AdoJobStore.JobStoreTX, Quartz" />
      <add key="quartz.jobStore.dataSource" value="SchedulerDb" />
      <add key="quartz.jobStore.driverDelegateType" value="Quartz.Impl.AdoJobStore.PostgreSQLDelegate, Quartz" />
      <add key="quartz.dataSource.SchedulerDb.provider" value="Npgsql" />
      <add key="quartz.dataSource.SchedulerDb.connectionStringName" value="db" />
      <add key="quartz.jobStore.acquireTriggersWithinLock" value="false" />
      <add key="quartz.serializer.type" value="binary" />
    </quartz>
  </quartzConfig>
  <location path="." inheritInChildApplications="false">
    <common>
      <logging>
        <factoryAdapter type="Common.Logging.NLog.NLogLoggerFactoryAdapter, Common.Logging.NLog45">
          <arg key="configType" value="FILE" />
          <arg key="configFile" value="~/Terrasoft.WebApp/nlog.config" />
        </factoryAdapter>
      </logging>
    </common>
  </location>
  <system.serviceModel>
    <serviceHostingEnvironment minFreeMemoryPercentageToActivateService="1" aspNetCompatibilityEnabled="True" multipleSiteBindingsEnabled="True" />
    <extensions configSource="Terrasoft.WebApp\ServiceModel\Extensions.config" />
    <services>
      <service name="Terrasoft.WebApp.Loader.ServiceModel.AuthService" behaviorConfiguration="RestServiceBehavior">
        <endpoint name="AuthServiceEndPoint" address="" binding="webHttpBinding" behaviorConfiguration="RestServiceBehavior" bindingNamespace="http://Terrasoft.WebApp.ServiceModel" contract="Terrasoft.Core.ServiceModelContract.IAuthServiceEx" />
      </service>
      <service name="Terrasoft.WebApp.Loader.ServiceModel.TotpSetupService">
        <endpoint name="TotpSetupServiceEndPoint" address="" binding="webHttpBinding" behaviorConfiguration="RestServiceBehavior" bindingNamespace="http://Terrasoft.WebApp.ServiceModel" contract="Terrasoft.WebApp.Loader.ServiceModel.TotpSetupService" />
      </service>
    </services>
    <behaviors configSource="Terrasoft.WebApp\ServiceModel\http\behaviors.config" />
    <bindings configSource="Terrasoft.WebApp\ServiceModel\http\bindings.config" />
  </system.serviceModel>
  <vaultConfig hostUri="" authMethodType="" token="" secretsEnginePath="" thumbprint="" certFilePath="" certPassword="" />
  <system.data>
    <DbProviderFactories>
      <add name="Npgsql Data Provider" invariant="Npgsql" description=".Net Data Provider for PostgreSQL" type="Npgsql.NpgsqlFactory, Npgsql, Culture=neutral, PublicKeyToken=5d8b90d52f46fda7" />
    </DbProviderFactories>
  </system.data>
</configuration>